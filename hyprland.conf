# =====================
# HYPRLAND CONFIGURATION
# Футуристичный и информативный интерфейс
# =====================

# Автозапуск приложений (минимальные зависимости)
exec-once = waybar
exec-once = swaybg -i ~/Pictures/futuristic-wallpaper.jpg
exec-once = mako
exec-once = wl-paste --watch cliphist store
exec-once = ~/.config/hypr/scripts/waybar-update.sh

# Монитор
monitor=,preferred,auto,1

# Стиль оформления - футуристичный
general {
    gaps_in = 5
    gaps_out = 10
    border_size = 2
    col.active_border = rgb(00ffcc) rgb(ff00ff) rgb(0099ff) 45deg
    col.inactive_border = rgb(333333)
    layout = dwindle
    resize_on_border = true
}

# Футуристичные декорации с анимацией
decoration {
    rounding = 5
    blur = yes
    blur_size = 4
    blur_passes = 2
    blur_new_optimizations = on
    drop_shadow = yes
    shadow_range = 10
    shadow_render_power = 3
    col.shadow = rgba(000000ee)
    
    # Специальные эффекты для футуристичного вида
    dim_inactive = false
    dim_strength = 0.1
}

# Анимации
animations {
    enabled = yes
    bezier = fluent, 0.4, 0, 0.2, 1
    animation = windows, 1, 3, fluent, slide
    animation = windowsOut, 1, 3, fluent, slide
    animation = border, 1, 5, default
    animation = fade, 1, 3, default
    animation = workspaces, 1, 3, fluent, slide
}

dwindle {
    pseudotile = yes
    preserve_split = yes
}

master {
    new_is_master = true
}

# Ввод
input {
    kb_layout = us
    follow_mouse = 1
    touchpad {
        natural_scroll = no
    }
    sensitivity = 0
}

# Жесты
gestures {
    workspace_swipe = on
    workspace_swipe_distance = 700
    workspace_swipe_invert = true
    workspace_swipe_min_speed_to_force = 10
}

# Окна
windowrule = float, ^(foot)$
windowrule = center, ^(foot)$
windowrule = size 800 500, ^(foot)$

# Клавиши управления
$mainMod = SUPER

# Управление питанием
bind = $mainMod SHIFT, P, exec, systemctl poweroff
bind = $mainMod SHIFT, R, exec, systemctl reboot
bind = $mainMod SHIFT, S, exec, systemctl suspend

# Запуск приложений
bind = $mainMod, RETURN, exec, foot
bind = $mainMod, E, exec, nautilus
bind = $mainMod, F, exec, firefox
bind = $mainMod, C, exec, code

# Действия с окнами
bind = $mainMod, Q, killactive,
bind = $mainMod, M, exit,
bind = $mainMod, V, togglefloating,
bind = $mainMod, P, pseudo,
bind = $mainMod, J, togglesplit,

# Переключение рабочих столов
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10

# Перемещение между окнами
bind = $mainMod, left, movefocus, l
bind = $mainMod, right, movefocus, r
bind = $mainMod, up, movefocus, u
bind = $mainMod, down, movefocus, d

# Перемещение окон между рабочими столами
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod SHIFT, 6, movetoworkspace, 6
bind = $mainMod SHIFT, 7, movetoworkspace, 7
bind = $mainMod SHIFT, 8, movetoworkspace, 8
bind = $mainMod SHIFT, 9, movetoworkspace, 9
bind = $mainMod SHIFT, 0, movetoworkspace, 10

# Специальный рабочий стол
bind = $mainMod, S, togglespecialworkspace, magic
bind = $mainMod SHIFT, S, movetoworkspace, special:magic

# Прокрутка рабочих столов
bind = $mainMod, mouse_down, workspace, e+1
bind = $mainMod, mouse_up, workspace, e-1

# Управление медиа
bind = , XF86AudioRaiseVolume, exec, pactl set-sink-volume @DEFAULT_SINK@ +5%
bind = , XF86AudioLowerVolume, exec, pactl set-sink-volume @DEFAULT_SINK@ -5%
bind = , XF86AudioMute, exec, pactl set-sink-mute @DEFAULT_SINK@ toggle
bind = , XF86AudioPlay, exec, playerctl play-pause
bind = , XF86AudioNext, exec, playerctl next
bind = , XF86AudioPrev, exec, playerctl previous

# Скриншоты
bind = $mainMod, Print, exec, grim -g "$(slurp)" - | wl-copy
bind = , Print, exec, grim - | wl-copy

# Системная информация
bind = $mainMod, I, exec, foot --title=system-info -e ~/.config/hypr/scripts/system-info.sh

# Перезагрузка Waybar
bind = $mainMod SHIFT, R, exec, killall waybar && waybar